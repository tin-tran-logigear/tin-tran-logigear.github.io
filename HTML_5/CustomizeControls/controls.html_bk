<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>Standard Control</title>
<script src="../Scripts/js/jquery-1.5.2.min.js" type="text/javascript"></script>
<script type="text/javascript" src="../Scripts/js/jquery.jqGrid.min.js"></script>
<script type="text/javascript" src="../ControlsList/Properties.js"></script>
<script type="text/javascript" src="../ControlsList/Util.js"></script>
<script type="text/javascript" src="../ControlsList/Variables.js"></script>
<script type="text/javascript" src="../ControlsList/CreateElement.js"></script>
<script type="text/javascript" src="../ControlsList/Processing.js"></script>
<script type="text/javascript" src="../ControlsList/Data.js"></script>
<script type="text/javascript" src="../ControlsList/Method.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/dojo/1.5/dojo/dojo.xd.js"></script>
	
<link href="../Scripts/jquery-ui-1.7.2.custom.css" rel="stylesheet" type="text/css" /> 
<link href="../Scripts/themes/ui.jqgrid.css" rel="stylesheet" type="text/css" />
<link href="../Scripts/css/Stylesheet1.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="../Scripts/css/AutoComplete.css" media="screen" type="text/css" />

<style type="text/css">
            body {
	            background-image: url(../images/background.jpg);
	            overflow:hidden;
            }

            html, body, #wrapper {
                  height:100%;
	              width: 100%;
                  margin: 0;
                  padding: 0;
                  border: none;
                  white-space:nowrap;
               }
   
            .style1 {color: #FFFFFF; font-weight: bold; font-family: Tahoma; font-size: 15px; }

            a:link {
                COLOR: none;
                text-decoration:none;
            }
            a:visited {
                COLOR: #FFFFFF;
            }
            a:hover {
                COLOR: red;
            }
            a:active {
                COLOR: #FFFFFF;
            }
            a { display: block; }
                label { display: block; 
            }  
            #Checkbox1
            {
                width: 173px;
            }
            #Reset1
            {
                width: 82px;
            }
            #chkW4Pro
            {
                width: 19px;
            }
            .style4
            {
                color: #FFFFFF;width: 50%;
            }
            #txtDelay
            {
                width: 61px;
            }
            #TextArea1
          
            
            
    {
        width: 706px;
        height: 39px;
        margin-top: 0px;
        margin-left: 0px;
    }
            #Button1
    {
        width: 155px;
    }
    #TextArea2
    {
        height: 27px;
    }
            #proName
    {
        height: 19px;
        width: 131px;
    }
    #btnUpd
    {
        width: 169px;
    }
            #proValue
    {
        margin-left: 0px;
        height: 23px;
        width: 271px;
    }
            .style5
    {
        height: 25px;
    }
            .style6
    {
        width: 50%;
        height: 25px;
    }
    #Text1
    {
        width: 748px;
        height: 45px;
    }
    .style7
    {
        height: 2%;
    }
    #txtComment
    {
        width: 743px;
        //height: 100px;
        margin-left: 0px;
    }
    #IDComment
    {
        width: 764px;
        margin-left: 0px;
    }
    	* {
		margin: 0px;
		padding: 0px;
	}
</style>
 
</head>
<body>
    <center>

    <table id="HTMLContent"  width="60%" height="650" cellspacing="0" cellpadding ="2">
            <tr >
                <td colspan="2" height="10%"></td>
            </tr>
            <tr bgcolor="#0000CC" >
                <td id="HeaderCell" align="left" height="2%" style="vertical-align:middle" class="style4"><span class="style1">&nbsp;&nbsp;&nbsp;Standard Control</span></td>
                <td id="CloseCell" align="right" height="2%"  style="vertical-align:middle"><span class="style1"><a href="../index.html">Home&nbsp;&nbsp;&nbsp;</a></span></td>
            </tr>
            <tr >
                <td id="TitleCell" height="2%" align="left" style="vertical-align:middle" class="style4"><p id="IDCaption" style ="color: red; font-weight: bold; font-family: Tahoma; font-size: 18px">&nbsp;&nbsp;&nbsp; </p></td>
            </tr>
             <tr>
                <td id="DisplayCell"colspan="2" style="text-align:center">
                    <script type="text/javascript">
                        createControls();
 
                    </script>
                </td>
            </tr>
            <tr bgcolor="#0000CC" >
                <td id = "WaitProCell"  height ="2%" colspan="2">
                    <table width="100%" style="height: 18px">
                        <tr>
                            <td class="style5" width="25%" align="right">
                                <input id="chkDelay" type="checkbox" onclick="return chkDelay_onclick()" /><span class="style4">Delay for Property (milisecond)&nbsp;</span>
                            </td>
                            <td align="left" class="style6">
                                <input id="txtDelay" type="text" style="width:100px" disabled="disabled" 
                                    value="1000" />
                            </td>
                            <td id="tdNoneUnique" style="visibility:hidden" align="right">
                                <input id="chkNoneUnique" type="checkbox" />
                                <span class="style4">Non-Unique Item&nbsp;</span>
                            </td>                         
                        </tr>
                     </table>

                </td>
            </tr>
            <tr>
                    <td id="PropertyCell" height ="25%" colspan="2" align="center"> 
                        <script type="text/javascript">
                            document.write(' <table id=' + IDPropertyList + ' align="center"></table>');
                        </script>
                    </td>
            </tr>
            <tr bgcolor="#0000CC">
                <td id = "UpdateCell"  height ="2%" colspan="2" >
                    <table cellpadding="2" width="100%" > 
                        <tr>
                            <td align="right" width="40%" ><input id="proName" onKeyDown="dspProperty(event)" style="background-color:#0000CC;border:none" type="text" class="style4"/></td>
                            <td width="40%" >                                
                                <textarea id="txtProValue" style="width:270px;height:20px;resize:none;"></textarea>
                            </td>
                            <td align="left"> <input id="btnUpd" type="button" value="Update" style="height:28px " onclick="return btnUpd_onclick();" /></td>
                        </tr>
                    </table>
               </td>
            </tr>
             <tr  >
                <td id = "CommentCell" colspan="2" width="100%" class="style7">
                    <textarea id="txtComment" name="S1" rows="2" disabled="disabled" cols="2"></textarea>

                </td>
            </tr>
            <tr>
                 <td colspan="2" height="10%">
                     &nbsp;</td>
            </tr>
    </table>
  
    </center>

    <script type="text/javascript" >

        jQuery(document).ready(function ($) {

            InitData();
            loadTitlePage();
            InitGUI();
						
            window.onload = function () {
                udpDefaultProperties();
                createPropertyList();
                loadPropertyList(PropertyData);
            };
            varInterval = setInterval(function () { clearInterval(varInterval); getBoundCtr(); }, 300);

            //displaying help when user click on Property List
            contentTxtComment = txtComment.value;
            var oPropertyList = document.getElementById(IDPropertyList);
            oPropertyList.setAttribute('onclick', 'document.getElementById(IDComment).value = contentTxtComment;');
            $('#txtComment').height($('#txtComment').attr('scrollHeight'));
        });

        function btnUpd_onclick() {
          
            var oChkDelay = document.getElementById('chkDelay');
            var oTxtDelay = document.getElementById('txtDelay');
            var oChkNonUnique = document.getElementById('chkNonUnique');

            if (!oChkDelay.checked) {
                updPropertyControl();
                return;
            }
            if (ValidValue(oTxtDelay.value, 0, 1000000)) {	
                document.body.style.cursor = 'wait';
                document.getElementById('btnUpd').disabled = true;
                varInterval = setInterval(function () { clearInterval(varInterval); updPropertyControl() ; document.body.style.cursor = 'default'; document.getElementById('btnUpd').disabled = false;}, parseInt(oTxtDelay.value));
            }
            else {
               
                updPropertyControl();
            }    
  
        }

        function chkDelay_onclick() {
            var oChkDelay = document.getElementById('chkDelay');
            var oTxtDelay = document.getElementById('txtDelay');
            oTxtDelay.disabled = (!oChkDelay.checked);
        }

        function dspProperty(e) {
            evt = e || window.event;
            if (evt.keyCode == 13 || evt.which == 13) {
                iNum = $("#" + IDPropertyList).getDataIDs().length;
                var sInput = document.getElementById("proName").value;
                for (iR = 1; iR <= iNum; iR++) {
                    name = $("#" + IDPropertyList).jqGrid('getCell', iR, 0);
                    if (name == sInput) {
                        _DspSelectedItem(iR);
                    }
                }
            }
        }

        //Tab and new line 
        $(document).delegate('#txtProValue,#text_ControlTest,#textarea_ControlTest', 'keydown', function (e) {
            var keyCode = e.keyCode || e.which;

            if (keyCode == 9 || keyCode == 13) {
				var sChar;
				if (keyCode == 9)
					sChar = "\t"
				else
					sChar = "\n"
                e.preventDefault();
                var start = $(this).get(0).selectionStart;
                var end = $(this).get(0).selectionEnd;
                var sChar;
                // set textarea value to: text before caret + tab + text after caret
                var sContent = $(this).val().substring(0, start)
                            + sChar
                            + $(this).val().substring(end);

                $(this).val(sContent);
                // put caret at right position again
                $(this).get(0).selectionStart =
                $(this).get(0).selectionEnd = start + 1;
            }
        });

    </script>

</body>

</html>


